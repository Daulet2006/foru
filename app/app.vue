<script setup lang="ts">
import { ref, onMounted } from 'vue'
import type { Ref } from 'vue'

// –ù–∞–±–æ—Ä –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏—Ö —Ü–∏—Ç–∞—Ç
const quotes: string[] = [
  '–¢—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è, –∏ —è –≤—Å–µ–≥–¥–∞ –±—É–¥—É –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç–µ–±—è. üòä',
  '–ü–æ–º–Ω–∏, —á—Ç–æ –ø–æ—Å–ª–µ –¥–æ–∂–¥—è –≤—Å–µ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ä–∞–¥—É–≥–∞. üåà',
  '–ö–∞–∂–¥—ã–π —Ç–≤–æ–π —à–∞–≥, –¥–∞–∂–µ —Å–∞–º—ã–π –º–∞–ª–µ–Ω—å–∫–∏–π ‚Äî —ç—Ç–æ —É–∂–µ –ø—Ä–æ–≥—Ä–µ—Å—Å. üöÄ',
  '–¢—ã —Å–∏–ª—å–Ω–µ–µ, —á–µ–º —Ç—ã –¥—É–º–∞–µ—à—å. –ù–µ —Å–¥–∞–≤–∞–π—Å—è!',
  '–û—Ç–¥—ã—Ö–∞–π. –¢–µ–±–µ —ç—Ç–æ –Ω—É–∂–Ω–æ. –¢—ã —ç—Ç–æ –∑–∞—Å–ª—É–∂–∏–ª–∞. ‚ú®',
  '–ú–∏—Ä —è—Ä—á–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω—ë–º –µ—Å—Ç—å —Ç—ã. ‚òÄÔ∏è',
  '–¢–≤–æ–∏ –º–µ—á—Ç—ã –≤–∞–∂–Ω—ã. –°–ª–µ–¥—É–π –∑–∞ –Ω–∏–º–∏.',
  '–ù–µ –±–æ–π—Å—è –æ—à–∏–±–∞—Ç—å—Å—è. –û—à–∏–±–∫–∏ ‚Äî —ç—Ç–æ —Å—Ç—É–ø–µ–Ω–∏ –∫ —É—Å–ø–µ—Ö—É.',
]

// –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º —Ç–∏–ø Ref<string>
const currentQuote: Ref<string> = ref('')

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–π —Å–ª—É—á–∞–π–Ω–æ–π —Ü–∏—Ç–∞—Ç—ã
const showNewQuote = () => {
  // –î–æ–±–∞–≤–∏–º –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç
  if (quotes.length === 0) return;

  let newQuote: string;
  do {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º non-null assertion (`!`), —á—Ç–æ–±—ã TypeScript –Ω–µ —Å–æ–º–Ω–µ–≤–∞–ª—Å—è –≤ —Ç–∏–ø–µ
    newQuote = quotes[Math.floor(Math.random() * quotes.length)]!;
  } while (newQuote === currentQuote.value && quotes.length > 1) // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –Ω–æ–≤–∞—è —Ü–∏—Ç–∞—Ç–∞ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å—Ç–∞—Ä—É—é

  currentQuote.value = newQuote;
}

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–≤—É—é —Ü–∏—Ç–∞—Ç—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
onMounted(() => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º non-null assertion (`!`)
  if (quotes.length > 0) {
    currentQuote.value = quotes[0]!;
  }
})
</script>

<template>
  <div class="relative min-h-screen overflow-hidden bg-gray-900 flex items-center justify-center p-4 font-sans">
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω —Å "–ø–ª–∞–≤–∞—é—â–∏–º–∏" –∫—Ä—É–≥–∞–º–∏ -->
    <div class="absolute top-0 left-0 w-full h-full">
      <div class="circle -top-40 -left-40 bg-pink-500"></div>
      <div class="circle -bottom-40 -right-40 bg-teal-400"></div>
      <div class="circle -bottom-60 left-20 bg-purple-500"></div>
    </div>

    <!-- "–°—Ç–µ–∫–ª—è–Ω–Ω–∞—è" –∫–∞—Ä—Ç–æ—á–∫–∞ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º —Ä–∞–∑–º—ã—Ç–∏—è -->
    <div
        class="relative bg-white/10 backdrop-blur-xl rounded-2xl shadow-lg p-8 max-w-md w-full text-center border border-white/20 transform hover:scale-105 transition-transform duration-500"
    >
      <h1 class="text-3xl font-bold text-white mb-4">‚ú® –ú–∞–ª–µ–Ω—å–∫–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ ‚ú®</h1>

      <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ü–∏—Ç–∞—Ç—ã —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π —Å–º–µ–Ω—ã —Ç–µ–∫—Å—Ç–∞ -->
      <div class="h-24 flex items-center justify-center">
        <Transition name="fade" mode="out-in">
          <p :key="currentQuote" class="text-white/90 text-xl italic">{{ currentQuote }}</p>
        </Transition>
      </div>

      <button
          @click="showNewQuote"
          class="mt-6 bg-white/10 text-white font-semibold py-3 px-6 rounded-lg border border-white/30 shadow-md hover:bg-white/20 transform hover:-translate-y-1 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-white"
      >
        –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É
      </button>
    </div>
  </div>
</template>

<style scoped>
/* –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫—Ä—É–≥–æ–≤ –Ω–∞ —Ñ–æ–Ω–µ */
.circle {
  position: absolute;
  border-radius: 50%;
  filter: blur(120px); /* –°–∏–ª—å–Ω–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ –¥–ª—è –º—è–≥–∫–æ—Å—Ç–∏ */
  animation: float 20s infinite ease-in-out;
}
.circle:nth-child(1) {
  width: 300px;
  height: 300px;
  animation-delay: 0s;
}
.circle:nth-child(2) {
  width: 400px;
  height: 400px;
  animation-delay: 5s;
  animation-duration: 25s;
}
.circle:nth-child(3) {
  width: 250px;
  height: 250px;
  animation-delay: 10s;
  animation-duration: 18s;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è "–ø–ª–∞–≤–∞–Ω–∏—è" –¥–ª—è –∫—Ä—É–≥–æ–≤ */
@keyframes float {
  0%,
  100% {
    transform: translateY(0) translateX(0);
  }
  50% {
    transform: translateY(-60px) translateX(30px) scale(1.1);
  }
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Ü–∏—Ç–∞—Ç—ã */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.4s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}
</style>